// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`UniswapV3Pool swap tests close to max price swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "1000",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "-26083549850867114346332688477747755628",
  "executionPrice": "2.6084e+34",
  "feeGrowthGlobal0X128Delta": "2381976568446569244235",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "4.1734e+30",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": 705098,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "0",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "1000",
  "executionPrice": "-Infinity",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195",
  "poolPriceAfter": "1.7014e+38",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": 880340,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "-26087635650665564420687107504180041533",
  "executionPrice": "2.6088e+19",
  "feeGrowthGlobal0X128Delta": "510423550381413479995299567101531162",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "4.0241",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": 13923,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "-26087635650665564420687107504180041533",
  "executionPrice": "2.6088e+19",
  "feeGrowthGlobal0X128Delta": "510423550381413479995299567101531162",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "4.0241",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": 13923,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "0",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "-Infinity",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195061911147652317",
  "poolPriceAfter": "1.7014e+38",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": 880340,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "poolBalance0": "1",
  "poolBalance1": "26087635650665564424699143612505016738",
  "poolPriceBefore": "1.7014e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":159368,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x9f5d45f3ac9722a845c3c5b8c4a6d2d477bf93ac\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xe2be9109000000000000000000000000883588f97b359aec93796929befb6e142968f7c70000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\\\\\"}],\\\\\\"id\\\\\\":159368,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x9f5d45F3aC9722A845C3C5b8C4A6D2D477BF93AC\\",\\"data\\":\\"0xe2be9109000000000000000000000000883588f97b359aec93796929befb6e142968f7c70000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\"}}, tx={\\"data\\":\\"0xe2be9109000000000000000000000000883588f97b359aec93796929befb6e142968f7c70000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "2",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "-1000",
  "executionPrice": "500.00",
  "feeGrowthGlobal0X128Delta": "170141183460469231731",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.7014e+38",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": 880340,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "2",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "5.0000e+17",
  "feeGrowthGlobal0X128Delta": "170141183460469231731",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.7014e+38",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": 880340,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "2",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "5.0000e+17",
  "feeGrowthGlobal0X128Delta": "170141183460469231731",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.7014e+38",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": 880340,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap token0 for token1 to price 0.40000 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "3171793039286238109",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "-26087635650665564423434232548437664977",
  "executionPrice": "8.2249e+18",
  "feeGrowthGlobal0X128Delta": "1618957864187523123655042148763283097",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": -9164,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap token0 for token1 to price 2.5000 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "1268717215714495281",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "-26087635650665564421536865952336637378",
  "executionPrice": "2.0562e+19",
  "feeGrowthGlobal0X128Delta": "647583145675012618257449376796101507",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": 9163,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "0",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "10740898373457544742072477595619363803",
  "executionPrice": "-Infinity",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "5482407482066087054477299856254072312542046383926535301",
  "poolPriceAfter": "3.4026e+38",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": 887271,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "1",
  "amount0Delta": "0",
  "amount1Before": "26087635650665564424699143612505016738",
  "amount1Delta": "10740898373457544742072477595619363803",
  "executionPrice": "-Infinity",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "5482407482066087054477299856254072312542046383926535301",
  "poolPriceAfter": "3.4026e+38",
  "poolPriceBefore": "1.7014e+38",
  "tickAfter": 887271,
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "poolBalance0": "1",
  "poolBalance1": "26087635650665564424699143612505016738",
  "poolPriceBefore": "1.7014e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":159942,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xe2ee4f52d7582050f09560d9b64191f49311c87c\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xf603482c000000000000000000000000a6172c32cc606f9b14c1e32eb4e3907020fb12bb0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\\\\\"}],\\\\\\"id\\\\\\":159942,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xE2ee4F52d7582050f09560d9B64191f49311c87c\\",\\"data\\":\\"0xf603482c000000000000000000000000a6172c32cc606f9b14c1e32eb4e3907020fb12bb0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\"}}, tx={\\"data\\":\\"0xf603482c000000000000000000000000a6172c32cc606f9b14c1e32eb4e3907020fb12bb0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "1",
  "poolBalance1": "26087635650665564424699143612505016738",
  "poolPriceBefore": "1.7014e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":162290,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x0a15dca0d318a33bcc47cda135d3b79b9412a7d9\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b80500000000000000000000000009279d6355004877f188eb028342dae3767643770000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":162290,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x0a15DcA0d318a33BcC47cDa135D3b79b9412a7d9\\",\\"data\\":\\"0x9e77b80500000000000000000000000009279d6355004877f188eb028342dae3767643770000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b80500000000000000000000000009279d6355004877f188eb028342dae3767643770000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to max price swap token1 for token0 to price 2.5000 1`] = `
Object {
  "poolBalance0": "1",
  "poolBalance1": "26087635650665564424699143612505016738",
  "poolPriceBefore": "1.7014e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":161418,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x4ae08de4741cb0a889ff310d3e36775e268e53de\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b805000000000000000000000000dc4687249ca793c11dabdaa2253f2bf8f7c54a14000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":161418,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x4ae08DE4741cB0a889FF310D3E36775e268e53DE\\",\\"data\\":\\"0x9e77b805000000000000000000000000dc4687249ca793c11dabdaa2253f2bf8f7c54a14000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b805000000000000000000000000dc4687249ca793c11dabdaa2253f2bf8f7c54a14000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 880340,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "1000",
  "amount1Before": "1",
  "amount1Delta": "0",
  "executionPrice": "0.0000",
  "feeGrowthGlobal0X128Delta": "170141183460469231731687",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.0000000000000000000000000000000000000059000",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": -880303,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "-26033697540846965126433148994127431276",
  "amount1Before": "1",
  "amount1Delta": "1000",
  "executionPrice": "0.000000000000000000000000000000000038412",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "2381976568446569244235",
  "poolPriceAfter": "0.00000000000000000000000000000023974",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": -705093,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "1",
  "amount1Delta": "0",
  "executionPrice": "0.0000",
  "feeGrowthGlobal0X128Delta": "170141183460469231731687303715884105728",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.0000000000000000000000000000000000000059000",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": -880303,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "poolBalance0": "26037782196502120275425782622539039026",
  "poolBalance1": "1",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":163758,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xa588304eaabe62c28a76a35badd4c7829f8ab900\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x6dfc0ddb00000000000000000000000018da4b4d72f459b7377b35170b9830d459a094810000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\\\\\"}],\\\\\\"id\\\\\\":163758,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xA588304eaAbe62C28a76a35BADD4C7829F8AB900\\",\\"data\\":\\"0x6dfc0ddb00000000000000000000000018da4b4d72f459b7377b35170b9830d459a094810000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\"}}, tx={\\"data\\":\\"0x6dfc0ddb00000000000000000000000018da4b4d72f459b7377b35170b9830d459a094810000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "-26037782196502120271413746514214063808",
  "amount1Before": "1",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "0.000000000000000000038406",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381413820277666488039994629",
  "poolPriceAfter": "0.24850",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": -13924,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "-26037782196502120271413746514214063808",
  "amount1Before": "1",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "0.000000000000000000038406",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381413820277666488039994629",
  "poolPriceAfter": "0.24850",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": -13924,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "10790901831095468191587263901270792610",
  "amount1Before": "1",
  "amount1Delta": "0",
  "executionPrice": "0.0000",
  "feeGrowthGlobal0X128Delta": "5507930424444982259736347157352787128931407551935325049",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.0000000000000000000000000000000000000029390",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": -887272,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "10790901831095468191587263901270792610",
  "amount1Before": "1",
  "amount1Delta": "0",
  "executionPrice": "0.0000",
  "feeGrowthGlobal0X128Delta": "5507930424444982259736347157352787128931407551935325049",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.0000000000000000000000000000000000000029390",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": -887272,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "poolBalance0": "26037782196502120275425782622539039026",
  "poolBalance1": "1",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":164330,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x2fa1b70c11e031c283c874d91f18bd250ba38fda\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xbac7bf7800000000000000000000000096f362a9e25fe34d4f1d5acb9bea93d31f95d7cb0000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\\\\\"}],\\\\\\"id\\\\\\":164330,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x2FA1B70C11e031c283c874D91f18bd250BA38fda\\",\\"data\\":\\"0xbac7bf7800000000000000000000000096f362a9e25fe34d4f1d5acb9bea93d31f95d7cb0000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\"}}, tx={\\"data\\":\\"0xbac7bf7800000000000000000000000096f362a9e25fe34d4f1d5acb9bea93d31f95d7cb0000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap token0 for token1 to price 0.40000 1`] = `
Object {
  "poolBalance0": "26037782196502120275425782622539039026",
  "poolBalance1": "1",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":166398,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x0e8ebc6da0bc453af903eaaeb00e0cfa6c35e9ae\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf900000000000000000000000023d2779680b56002b8290a6dea5f1cecb9462e8b0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":166398,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x0E8EBc6DA0BC453af903eaAeb00e0cfa6c35e9AE\\",\\"data\\":\\"0x2ec20bf900000000000000000000000023d2779680b56002b8290a6dea5f1cecb9462e8b0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf900000000000000000000000023d2779680b56002b8290a6dea5f1cecb9462e8b0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "26037782196502120275425782622539039026",
  "poolBalance1": "1",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":166672,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x66276a6e29137c013b0d1c8255bbb441e8703a31\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf90000000000000000000000008ac5815054a4adb2f7329a02d925d184164ca71f000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":166672,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x66276a6e29137C013B0D1c8255BBb441E8703A31\\",\\"data\\":\\"0x2ec20bf90000000000000000000000008ac5815054a4adb2f7329a02d925d184164ca71f000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf90000000000000000000000008ac5815054a4adb2f7329a02d925d184164ca71f000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "-1000",
  "amount1Before": "1",
  "amount1Delta": "2",
  "executionPrice": "0.0020000",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170141183460469231731",
  "poolPriceAfter": "0.0000000000000000000000000000000000000059000",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": -880303,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "1",
  "amount1Delta": "2",
  "executionPrice": "0.0000000000000000020000",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170141183460469231731",
  "poolPriceAfter": "0.0000000000000000000000000000000000000059000",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": -880303,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "1",
  "amount1Delta": "2",
  "executionPrice": "0.0000000000000000020000",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170141183460469231731",
  "poolPriceAfter": "0.0000000000000000000000000000000000000059000",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": -880303,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap token1 for token0 to price 0.40000 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "-26037782196502120272263504962370659661",
  "amount1Before": "1",
  "amount1Delta": "1268717215714495283",
  "executionPrice": "0.000000000000000000048726",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "647583145675012958539816297734564973",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": -9164,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests close to min price swap token1 for token0 to price 2.5000 1`] = `
Object {
  "amount0Before": "26037782196502120275425782622539039026",
  "amount0Delta": "-26037782196502120274160871558471687260",
  "amount1Before": "1",
  "amount1Delta": "3171793039286238112",
  "executionPrice": "0.00000000000000000012182",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "1618957864187523634078592530170978294",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
  "tickAfter": 9163,
  "tickBefore": -880303,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-989",
  "executionPrice": "0.98900",
  "feeGrowthGlobal0X128Delta": "1701411834604692317316",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-989",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1000",
  "executionPrice": "1.0111",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "1701411834604692317316",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-662207357859531772",
  "executionPrice": "0.66221",
  "feeGrowthGlobal0X128Delta": "1701411834604692317316873037158841057",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.44742",
  "poolPriceBefore": "1.0000",
  "tickAfter": -8043,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "836795075501202120",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-585786437626904951",
  "executionPrice": "0.70004",
  "feeGrowthGlobal0X128Delta": "1423733044596672457631004491657125052",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-662207357859531772",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "1.5101",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "1701411834604692317316873037158841057",
  "poolPriceAfter": "2.2350",
  "poolPriceBefore": "1.0000",
  "tickAfter": 8042,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-585786437626904951",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "836795075501202120",
  "executionPrice": "1.4285",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "1423733044596672457631004491657125052",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1012",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-1000",
  "executionPrice": "0.98814",
  "feeGrowthGlobal0X128Delta": "1871553018065161549048",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "2020202020202020203",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "0.49500",
  "feeGrowthGlobal0X128Delta": "3437195625464025050172418213103875650",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.25000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -13864,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "836795075501202120",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-585786437626904951",
  "executionPrice": "0.70004",
  "feeGrowthGlobal0X128Delta": "1423733044596672457631004491657125052",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token0 for token1 to price 0.40000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1174017838553918518",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-735088935932648267",
  "executionPrice": "0.62613",
  "feeGrowthGlobal0X128Delta": "1997487844552658120479227965844634309",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -9164,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "2000000000000000000",
  "poolBalance1": "2000000000000000000",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":122028,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x8699bab21526f0678da5d79e44d9f3defca199f6\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf9000000000000000000000000e73ffd74be8f04c2830f19775d7cfff3b6995011000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":122028,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x8699BAB21526f0678dA5D79E44D9F3defca199f6\\",\\"data\\":\\"0x2ec20bf9000000000000000000000000e73ffd74be8f04c2830f19775d7cfff3b6995011000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf9000000000000000000000000e73ffd74be8f04c2830f19775d7cfff3b6995011000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-1000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1012",
  "executionPrice": "1.0120",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "1871553018065161549048",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "2020202020202020203",
  "executionPrice": "2.0202",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "3437195625464025050172418213103875650",
  "poolPriceAfter": "4.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 13863,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-585786437626904951",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "836795075501202120",
  "executionPrice": "1.4285",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "1423733044596672457631004491657125052",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "2000000000000000000",
  "poolBalance1": "2000000000000000000",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":122304,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x2d897c67a5c4f7310d56623ad510141b2f389494\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b8050000000000000000000000008316bd9436a5d090b96dd608d95fa582d8aee5600000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":122304,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x2d897c67a5C4F7310D56623ad510141B2f389494\\",\\"data\\":\\"0x9e77b8050000000000000000000000008316bd9436a5d090b96dd608d95fa582d8aee5600000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b8050000000000000000000000008316bd9436a5d090b96dd608d95fa582d8aee5600000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token1 for token0 to price 2.5000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-735088935932648267",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1174017838553918518",
  "executionPrice": "1.5971",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "1997487844552658120479227965844634309",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 9163,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "1000",
  "amount1Before": "36796311329002736532545403775337522448",
  "amount1Delta": "-36792225529204286454178948640580261338",
  "executionPrice": "3.6792e+34",
  "feeGrowthGlobal0X128Delta": "2381976568446569244235",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "4.1734e+30",
  "poolPriceBefore": "3.4026e+38",
  "tickAfter": 705098,
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":174544,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x4549f779ad8a666dc8acf8b45f1c58e94ac7f584\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xe2be9109000000000000000000000000bb39d33ca345c2e4ef316be12ce0eae68126bc0c00000000000000000000000000000000000000000000000000000000000003e80000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\\\\\"}],\\\\\\"id\\\\\\":174544,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x4549f779aD8a666DC8ACf8B45f1C58e94AC7f584\\",\\"data\\":\\"0xe2be9109000000000000000000000000bb39d33ca345c2e4ef316be12ce0eae68126bc0c00000000000000000000000000000000000000000000000000000000000003e80000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\"}}, tx={\\"data\\":\\"0xe2be9109000000000000000000000000bb39d33ca345c2e4ef316be12ce0eae68126bc0c00000000000000000000000000000000000000000000000000000000000003e80000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "transaction failed (transactionHash=\\"0xd810e97d513b73de716674503c6d487bf09131ff87ec44e79be248ba1b6de06c\\", transaction={\\"nonce\\":14967,\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"gasLimit\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x65f186\\"},\\"to\\":\\"0x3b44e4Ba926015A893d8832547f10Eaf4d50f999\\",\\"value\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"data\\":\\"0x6dfc0ddb00000000000000000000000013b26b134a023b34f533d9f9d8f3dc875204b8790000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\",\\"chainId\\":420,\\"v\\":875,\\"r\\":\\"0xb33e507070becfda8c1cd11a3b32793283c8c184e1a37d63f0e64d0f573b2557\\",\\"s\\":\\"0x371c5b6b65b7dda0a52c42858162ffab88fc83ffa8771f217ed5244ac045823a\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"hash\\":\\"0xd810e97d513b73de716674503c6d487bf09131ff87ec44e79be248ba1b6de06c\\"}, receipt={\\"to\\":\\"0x3b44e4Ba926015A893d8832547f10Eaf4d50f999\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"contractAddress\\":null,\\"transactionIndex\\":0,\\"gasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x938af6\\"},\\"logsBloom\\":\\"0x00000000000000000000000000000000000000000000000000040000000000000000000000000000000000100000000100000000000000000000000000000000000000000000000000000008000000000000000000000000000000400000000000000000000000000000000100000000000000000000000000000010000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000200000000000000000000000002000000000000000000000000000000000000008000000000000000000000000000000000000000000000000\\",\\"blockHash\\":\\"0x62a67c159c67d4990c533ec5be8c44f2b3457c93311e75e39c36c1e4bf0e4cec\\",\\"transactionHash\\":\\"0xd810e97d513b73de716674503c6d487bf09131ff87ec44e79be248ba1b6de06c\\",\\"logs\\":[{\\"transactionIndex\\":0,\\"blockNumber\\":14991,\\"transactionHash\\":\\"0xd810e97d513b73de716674503c6d487bf09131ff87ec44e79be248ba1b6de06c\\",\\"address\\":\\"0x4200000000000000000000000000000000000006\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266\\",\\"0x0000000000000000000000004200000000000000000000000000000000000011\\"],\\"data\\":\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"logIndex\\":0,\\"blockHash\\":\\"0x62a67c159c67d4990c533ec5be8c44f2b3457c93311e75e39c36c1e4bf0e4cec\\"}],\\"blockNumber\\":14991,\\"confirmations\\":1,\\"cumulativeGasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x938af6\\"},\\"status\\":0,\\"byzantium\\":true}, code=CALL_EXCEPTION, version=providers/5.0.17)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "transaction failed (transactionHash=\\"0x754cc9e7d4f73b91c142d52c71b0fa37c05ae642d9f6a0b54ecef48c940fe1d0\\", transaction={\\"nonce\\":15065,\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"gasLimit\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x672a06\\"},\\"to\\":\\"0x6c98C560B9BF3933d46144c0842F410496c8887D\\",\\"value\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"data\\":\\"0x6dfc0ddb000000000000000000000000e12996a66a707f13bec27296081cbbb9c44551550000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\",\\"chainId\\":420,\\"v\\":875,\\"r\\":\\"0xb899198b43839acdb8f7b1ac86dd982e54f25910f51b954824115282b7c8724e\\",\\"s\\":\\"0x7da06060084659b5cb408026edc85e04774e0669f0b93130cd20db5db830e502\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"hash\\":\\"0x754cc9e7d4f73b91c142d52c71b0fa37c05ae642d9f6a0b54ecef48c940fe1d0\\"}, receipt={\\"to\\":\\"0x6c98C560B9BF3933d46144c0842F410496c8887D\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"contractAddress\\":null,\\"transactionIndex\\":0,\\"gasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x938b09\\"},\\"logsBloom\\":\\"0x00000000000000000000000000000000000000000000000000040000000000000000000000000000000000100000000100000000000000000000000000000000000000000000000000000008000000000000000000000000000000400000000000000000000000000000000100000000000000000000000000000010000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000200000000000000000000000002000000000000000000000000000000000000008000000000000000000000000000000000000000000000000\\",\\"blockHash\\":\\"0x46d4d540a94e847fc50d86afcdccce12e969c2f966d1186bf380c080a458d6ea\\",\\"transactionHash\\":\\"0x754cc9e7d4f73b91c142d52c71b0fa37c05ae642d9f6a0b54ecef48c940fe1d0\\",\\"logs\\":[{\\"transactionIndex\\":0,\\"blockNumber\\":15089,\\"transactionHash\\":\\"0x754cc9e7d4f73b91c142d52c71b0fa37c05ae642d9f6a0b54ecef48c940fe1d0\\",\\"address\\":\\"0x4200000000000000000000000000000000000006\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266\\",\\"0x0000000000000000000000004200000000000000000000000000000000000011\\"],\\"data\\":\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"logIndex\\":0,\\"blockHash\\":\\"0x46d4d540a94e847fc50d86afcdccce12e969c2f966d1186bf380c080a458d6ea\\"}],\\"blockNumber\\":15089,\\"confirmations\\":1,\\"cumulativeGasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x938b09\\"},\\"status\\":0,\\"byzantium\\":true}, code=CALL_EXCEPTION, version=providers/5.0.17)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":172260,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x81de36394442eeadf3aad0a835f99bec45b55789\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xe2be9109000000000000000000000000ec9856b166012d24f77b5b574d1b5d90aa7ac7270000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\\\\\"}],\\\\\\"id\\\\\\":172260,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x81dE36394442EeADf3AAd0A835f99bEC45B55789\\",\\"data\\":\\"0xe2be9109000000000000000000000000ec9856b166012d24f77b5b574d1b5d90aa7ac7270000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\"}}, tx={\\"data\\":\\"0xe2be9109000000000000000000000000ec9856b166012d24f77b5b574d1b5d90aa7ac7270000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":173392,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x5a41e0552216dde78037b1edcc005f4a767d0ce6\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xe2be9109000000000000000000000000aef531685cdefdc4cdbda60be34e9c68a5639ea70000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\\\\\"}],\\\\\\"id\\\\\\":173392,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x5a41E0552216Dde78037B1eDCc005F4a767d0cE6\\",\\"data\\":\\"0xe2be9109000000000000000000000000aef531685cdefdc4cdbda60be34e9c68a5639ea70000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\"}}, tx={\\"data\\":\\"0xe2be9109000000000000000000000000aef531685cdefdc4cdbda60be34e9c68a5639ea70000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "2",
  "amount1Before": "36796311329002736532545403775337522448",
  "amount1Delta": "-1000",
  "executionPrice": "500.00",
  "feeGrowthGlobal0X128Delta": "170141183460469231731",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "3.3849e+38",
  "poolPriceBefore": "3.4026e+38",
  "tickAfter": 887219,
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "2",
  "amount1Before": "36796311329002736532545403775337522448",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "5.0000e+17",
  "feeGrowthGlobal0X128Delta": "170141183460469231731",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "3.3849e+38",
  "poolPriceBefore": "3.4026e+38",
  "tickAfter": 887219,
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "2",
  "amount1Before": "36796311329002736532545403775337522448",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "5.0000e+17",
  "feeGrowthGlobal0X128Delta": "170141183460469231731",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "3.3849e+38",
  "poolPriceBefore": "3.4026e+38",
  "tickAfter": 887219,
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap token0 for token1 to price 0.40000 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "transaction failed (transactionHash=\\"0xcfc0acb39fdec78aa9ef0953a81f67e99b10bd9c5432e5db78fbcd3fc17cef12\\", transaction={\\"nonce\\":15285,\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"gasLimit\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x64b916\\"},\\"to\\":\\"0x51018a4913cC2add7648d98db85baD69557Ed819\\",\\"value\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"data\\":\\"0x2ec20bf90000000000000000000000007b07f1cbcf9e3ecb187ed6e46246da3c6ed3938a0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"chainId\\":420,\\"v\\":875,\\"r\\":\\"0xb72bd447cf06a366b264c2d5336f26319546404607142dc6613d4d2880e086f6\\",\\"s\\":\\"0x2a2e01afb44298caac2f15dee15fa9ac524dbfedd15881ac1ce0a7822221be4d\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"hash\\":\\"0xcfc0acb39fdec78aa9ef0953a81f67e99b10bd9c5432e5db78fbcd3fc17cef12\\"}, receipt={\\"to\\":\\"0x51018a4913cC2add7648d98db85baD69557Ed819\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"contractAddress\\":null,\\"transactionIndex\\":0,\\"gasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x932275\\"},\\"logsBloom\\":\\"0x00000000000000000000000000000000000000000000000000040000000000000000000000000000000000100000000100000000000000000000000000000000000000000000000000000008000000000000000000000000000000400000000000000000000000000000000100000000000000000000000000000010000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000200000000000000000000000002000000000000000000000000000000000000008000000000000000000000000000000000000000000000000\\",\\"blockHash\\":\\"0xffbd64f14930717c1dfa2a69a0c38758b67fa53f90b03e92aad67340b0c1549b\\",\\"transactionHash\\":\\"0xcfc0acb39fdec78aa9ef0953a81f67e99b10bd9c5432e5db78fbcd3fc17cef12\\",\\"logs\\":[{\\"transactionIndex\\":0,\\"blockNumber\\":15309,\\"transactionHash\\":\\"0xcfc0acb39fdec78aa9ef0953a81f67e99b10bd9c5432e5db78fbcd3fc17cef12\\",\\"address\\":\\"0x4200000000000000000000000000000000000006\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266\\",\\"0x0000000000000000000000004200000000000000000000000000000000000011\\"],\\"data\\":\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"logIndex\\":0,\\"blockHash\\":\\"0xffbd64f14930717c1dfa2a69a0c38758b67fa53f90b03e92aad67340b0c1549b\\"}],\\"blockNumber\\":15309,\\"confirmations\\":1,\\"cumulativeGasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x932275\\"},\\"status\\":0,\\"byzantium\\":true}, code=CALL_EXCEPTION, version=providers/5.0.17)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "transaction failed (transactionHash=\\"0x4031e591b13dd3e50020454901793339192073dfc8404966e762fdac66454ca3\\", transaction={\\"nonce\\":15310,\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"gasLimit\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x64e018\\"},\\"to\\":\\"0xd2167686Baf32e1adB343E5c7D231584BD1901e9\\",\\"value\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"data\\":\\"0x2ec20bf9000000000000000000000000a42c706dd1de828e735517554bf52a068859bb0e000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"chainId\\":420,\\"v\\":875,\\"r\\":\\"0x1dcf2b1be0669dfc065bfac11f8715e0add81589afc5bbf0a98cfad3dda3b298\\",\\"s\\":\\"0x45217b580994edea8890928cbb3c90dcb742853cd011314cd015f2ce7b3bed93\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"hash\\":\\"0x4031e591b13dd3e50020454901793339192073dfc8404966e762fdac66454ca3\\"}, receipt={\\"to\\":\\"0xd2167686Baf32e1adB343E5c7D231584BD1901e9\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"contractAddress\\":null,\\"transactionIndex\\":0,\\"gasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x938ac9\\"},\\"logsBloom\\":\\"0x00000000000000000000000000000000000000000000000000040000000000000000000000000000000000100000000100000000000000000000000000000000000000000000000000000008000000000000000000000000000000400000000000000000000000000000000100000000000000000000000000000010000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000200000000000000000000000002000000000000000000000000000000000000008000000000000000000000000000000000000000000000000\\",\\"blockHash\\":\\"0xaba1969120f624b7de1e90a2a4bee05e8babf229ce491f1cc017222a3fd8c51d\\",\\"transactionHash\\":\\"0x4031e591b13dd3e50020454901793339192073dfc8404966e762fdac66454ca3\\",\\"logs\\":[{\\"transactionIndex\\":0,\\"blockNumber\\":15334,\\"transactionHash\\":\\"0x4031e591b13dd3e50020454901793339192073dfc8404966e762fdac66454ca3\\",\\"address\\":\\"0x4200000000000000000000000000000000000006\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266\\",\\"0x0000000000000000000000004200000000000000000000000000000000000011\\"],\\"data\\":\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"logIndex\\":0,\\"blockHash\\":\\"0xaba1969120f624b7de1e90a2a4bee05e8babf229ce491f1cc017222a3fd8c51d\\"}],\\"blockNumber\\":15334,\\"confirmations\\":1,\\"cumulativeGasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x938ac9\\"},\\"status\\":0,\\"byzantium\\":true}, code=CALL_EXCEPTION, version=providers/5.0.17)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":175116,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xa55f156e6d99df5ff6842f13049bceb5f7360582\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xf603482c0000000000000000000000006fa5c2f21b1542f473b016b6b5628796e6bbdbbd00000000000000000000000000000000000000000000000000000000000003e80000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\\\\\"}],\\\\\\"id\\\\\\":175116,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xa55f156E6d99DF5fF6842f13049BCEb5f7360582\\",\\"data\\":\\"0xf603482c0000000000000000000000006fa5c2f21b1542f473b016b6b5628796e6bbdbbd00000000000000000000000000000000000000000000000000000000000003e80000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\"}}, tx={\\"data\\":\\"0xf603482c0000000000000000000000006fa5c2f21b1542f473b016b6b5628796e6bbdbbd00000000000000000000000000000000000000000000000000000000000003e80000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":172834,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xae203e41968f268d22a4dde77810d1d6fa40a2c4\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xf603482c0000000000000000000000000ff284acf24feebcc6b9b494736ed74a3c4680de0000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\\\\\"}],\\\\\\"id\\\\\\":172834,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xae203e41968F268D22A4dDE77810D1d6fA40A2C4\\",\\"data\\":\\"0xf603482c0000000000000000000000000ff284acf24feebcc6b9b494736ed74a3c4680de0000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\"}}, tx={\\"data\\":\\"0xf603482c0000000000000000000000000ff284acf24feebcc6b9b494736ed74a3c4680de0000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":173968,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x00b3c34be81c3720df7a297cac7949898480b67a\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xf603482c000000000000000000000000fd153e89613c540ceab6a7f92c741452268e69be0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\\\\\"}],\\\\\\"id\\\\\\":173968,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x00B3C34BE81C3720DF7A297CaC7949898480B67a\\",\\"data\\":\\"0xf603482c000000000000000000000000fd153e89613c540ceab6a7f92c741452268e69be0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\"}}, tx={\\"data\\":\\"0xf603482c000000000000000000000000fd153e89613c540ceab6a7f92c741452268e69be0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":176224,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xd8c1867a2265a6660e0f8ebb06bbde42bda8263e\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b805000000000000000000000000beb99b1f4e6573215d475696a13854d1ef05068e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":176224,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xd8C1867A2265a6660E0f8ebB06bbde42BdA8263e\\",\\"data\\":\\"0x9e77b805000000000000000000000000beb99b1f4e6573215d475696a13854d1ef05068e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b805000000000000000000000000beb99b1f4e6573215d475696a13854d1ef05068e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the max ratio swap token1 for token0 to price 2.5000 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "36796311329002736532545403775337522448",
  "poolPriceBefore": "3.4026e+38",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":175392,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x2036fe2813c6ec847e9325f4342bce1ea5593ef7\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b805000000000000000000000000adbf9da46cec327cff1d5f4a7342d29cdb66b126000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":175392,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x2036fE2813c6ec847e9325f4342BCe1Ea5593eF7\\",\\"data\\":\\"0x9e77b805000000000000000000000000adbf9da46cec327cff1d5f4a7342d29cdb66b126000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b805000000000000000000000000adbf9da46cec327cff1d5f4a7342d29cdb66b126000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 887271,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":178756,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x32f73769d3b93e6d93678eb479f96b5378e33870\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x6dfc0ddb0000000000000000000000000f6c2bdcaa1b26dfb0aa7a637d52cfb650f04b9e00000000000000000000000000000000000000000000000000000000000003e8000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\\\\\"}],\\\\\\"id\\\\\\":178756,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x32F73769D3B93e6D93678EB479f96B5378E33870\\",\\"data\\":\\"0x6dfc0ddb0000000000000000000000000f6c2bdcaa1b26dfb0aa7a637d52cfb650f04b9e00000000000000000000000000000000000000000000000000000000000003e8000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\"}}, tx={\\"data\\":\\"0x6dfc0ddb0000000000000000000000000f6c2bdcaa1b26dfb0aa7a637d52cfb650f04b9e00000000000000000000000000000000000000000000000000000000000003e8000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "36796311322104302062438284732106019258",
  "amount0Delta": "-36792226666449146913445651103694411508",
  "amount1Before": "0",
  "amount1Delta": "1000",
  "executionPrice": "0.000000000000000000000000000000000027180",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "2381976568446569244235",
  "poolPriceAfter": "0.00000000000000000000000000000023974",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "tickAfter": -705093,
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":176500,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x3b35212cdde8fc326f47fb19a55579f6b2dcc3c0\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x6dfc0ddb000000000000000000000000da0d6de4e87f16b1f214a4d7f63ccd13afedf45f0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\\\\\"}],\\\\\\"id\\\\\\":176500,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x3b35212CDDe8fC326f47FB19A55579f6b2Dcc3C0\\",\\"data\\":\\"0x6dfc0ddb000000000000000000000000da0d6de4e87f16b1f214a4d7f63ccd13afedf45f0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\"}}, tx={\\"data\\":\\"0x6dfc0ddb000000000000000000000000da0d6de4e87f16b1f214a4d7f63ccd13afedf45f0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":177630,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x454dc4b9e32f5006d73192ff35905ddf4fae004f\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x6dfc0ddb000000000000000000000000ffda3777d5500faa9906bd729993c9d37e05cdfd0000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\\\\\"}],\\\\\\"id\\\\\\":177630,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x454dC4B9E32F5006d73192Ff35905dDF4FaE004f\\",\\"data\\":\\"0x6dfc0ddb000000000000000000000000ffda3777d5500faa9906bd729993c9d37e05cdfd0000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\"}}, tx={\\"data\\":\\"0x6dfc0ddb000000000000000000000000ffda3777d5500faa9906bd729993c9d37e05cdfd0000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "transaction failed (transactionHash=\\"0xca9bd57caffb79715f1963fc545c6c1fb7101728965d98391575515ff0520ecf\\", transaction={\\"nonce\\":15383,\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"gasLimit\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x686285\\"},\\"to\\":\\"0xC5A42C1e9aDb945A15c3DA757BB07e77e520636e\\",\\"value\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"data\\":\\"0xe2be9109000000000000000000000000552f0bad027f52b6bf9a211624712b64d8bf6aed0000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\",\\"chainId\\":420,\\"v\\":876,\\"r\\":\\"0x9afe3c263f36fda0986b7136fa4e3bd610ef40a415b8354afabf363e59f65fce\\",\\"s\\":\\"0x172ede50ba33f8f2e445ce316875ada759661968db5fbd43c6962f2a22b89cc3\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"hash\\":\\"0xca9bd57caffb79715f1963fc545c6c1fb7101728965d98391575515ff0520ecf\\"}, receipt={\\"to\\":\\"0xC5A42C1e9aDb945A15c3DA757BB07e77e520636e\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"contractAddress\\":null,\\"transactionIndex\\":0,\\"gasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x939120\\"},\\"logsBloom\\":\\"0x00000000000000000000000000000000000000000000000000040000000000000000000000000000000000100000000100000000000000000000000000000000000000000000000000000008000000000000000000000000000000400000000000000000000000000000000100000000000000000000000000000010000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000200000000000000000000000002000000000000000000000000000000000000008000000000000000000000000000000000000000000000000\\",\\"blockHash\\":\\"0xa4b13b4034b7220f5fc219f0b3bdeb9aa0b927cf897a35704a5f85158913474f\\",\\"transactionHash\\":\\"0xca9bd57caffb79715f1963fc545c6c1fb7101728965d98391575515ff0520ecf\\",\\"logs\\":[{\\"transactionIndex\\":0,\\"blockNumber\\":15407,\\"transactionHash\\":\\"0xca9bd57caffb79715f1963fc545c6c1fb7101728965d98391575515ff0520ecf\\",\\"address\\":\\"0x4200000000000000000000000000000000000006\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266\\",\\"0x0000000000000000000000004200000000000000000000000000000000000011\\"],\\"data\\":\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"logIndex\\":0,\\"blockHash\\":\\"0xa4b13b4034b7220f5fc219f0b3bdeb9aa0b927cf897a35704a5f85158913474f\\"}],\\"blockNumber\\":15407,\\"confirmations\\":1,\\"cumulativeGasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x939120\\"},\\"status\\":0,\\"byzantium\\":true}, code=CALL_EXCEPTION, version=providers/5.0.17)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "transaction failed (transactionHash=\\"0x1415c34401b485baf05d9f4c6d9d9be1fafcdb4aa6d6c6bd5c51de9552cd978b\\", transaction={\\"nonce\\":15481,\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"gasLimit\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x675115\\"},\\"to\\":\\"0x001dFC527B5B2a9a3e31270EeEEa73ADC56fC0b2\\",\\"value\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"data\\":\\"0xe2be910900000000000000000000000069747f2b307be2ac1a1a5dc4452d27f6c15bb3d80000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\",\\"chainId\\":420,\\"v\\":875,\\"r\\":\\"0x09011d9a4519b4d2797238eeb200447486b461fa3c711ffb8d7158c5c1333972\\",\\"s\\":\\"0x2bd900c8b19408614c942a3c507f6fd1f1a43019404943203fa27e359dc8f0e5\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"hash\\":\\"0x1415c34401b485baf05d9f4c6d9d9be1fafcdb4aa6d6c6bd5c51de9552cd978b\\"}, receipt={\\"to\\":\\"0x001dFC527B5B2a9a3e31270EeEEa73ADC56fC0b2\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"contractAddress\\":null,\\"transactionIndex\\":0,\\"gasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x9390a8\\"},\\"logsBloom\\":\\"0x00000000000000000000000000000000000000000000000000040000000000000000000000000000000000100000000100000000000000000000000000000000000000000000000000000008000000000000000000000000000000400000000000000000000000000000000100000000000000000000000000000010000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000200000000000000000000000002000000000000000000000000000000000000008000000000000000000000000000000000000000000000000\\",\\"blockHash\\":\\"0x3c796432ec0f8e8da0a90a2ebfaee1023e94b376a302dc0bda6d8a53b4f91574\\",\\"transactionHash\\":\\"0x1415c34401b485baf05d9f4c6d9d9be1fafcdb4aa6d6c6bd5c51de9552cd978b\\",\\"logs\\":[{\\"transactionIndex\\":0,\\"blockNumber\\":15505,\\"transactionHash\\":\\"0x1415c34401b485baf05d9f4c6d9d9be1fafcdb4aa6d6c6bd5c51de9552cd978b\\",\\"address\\":\\"0x4200000000000000000000000000000000000006\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266\\",\\"0x0000000000000000000000004200000000000000000000000000000000000011\\"],\\"data\\":\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"logIndex\\":0,\\"blockHash\\":\\"0x3c796432ec0f8e8da0a90a2ebfaee1023e94b376a302dc0bda6d8a53b4f91574\\"}],\\"blockNumber\\":15505,\\"confirmations\\":1,\\"cumulativeGasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x9390a8\\"},\\"status\\":0,\\"byzantium\\":true}, code=CALL_EXCEPTION, version=providers/5.0.17)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":179332,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x05c78c3fcebcfe3b96e35dafc3100223b187abd8\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xbac7bf78000000000000000000000000221ebbb320c6feda0e022f70a0523178db651a4600000000000000000000000000000000000000000000000000000000000003e8000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\\\\\"}],\\\\\\"id\\\\\\":179332,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x05c78c3FcEbcfE3B96E35DAfc3100223b187ABd8\\",\\"data\\":\\"0xbac7bf78000000000000000000000000221ebbb320c6feda0e022f70a0523178db651a4600000000000000000000000000000000000000000000000000000000000003e8000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\"}}, tx={\\"data\\":\\"0xbac7bf78000000000000000000000000221ebbb320c6feda0e022f70a0523178db651a4600000000000000000000000000000000000000000000000000000000000003e8000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":177052,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x186dcbba14e8ee1c13e1cb61d3560400af30c2f9\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xbac7bf7800000000000000000000000064cfa2e4e6b8441f91b7bcaefe3972dd6fd0e4060000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\\\\\"}],\\\\\\"id\\\\\\":177052,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x186DCbba14E8Ee1c13E1CB61D3560400Af30c2f9\\",\\"data\\":\\"0xbac7bf7800000000000000000000000064cfa2e4e6b8441f91b7bcaefe3972dd6fd0e4060000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\"}}, tx={\\"data\\":\\"0xbac7bf7800000000000000000000000064cfa2e4e6b8441f91b7bcaefe3972dd6fd0e4060000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":178182,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xf79d61c1d6316873daf9fb1e6496a8f764bc2244\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xbac7bf780000000000000000000000001a847cedfe76451936c5ba1794f9a1627004aaa60000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\\\\\"}],\\\\\\"id\\\\\\":178182,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xF79d61C1d6316873dAF9fB1e6496A8f764BC2244\\",\\"data\\":\\"0xbac7bf780000000000000000000000001a847cedfe76451936c5ba1794f9a1627004aaa60000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\"}}, tx={\\"data\\":\\"0xbac7bf780000000000000000000000001a847cedfe76451936c5ba1794f9a1627004aaa60000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap token0 for token1 to price 0.40000 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":180188,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xf009ca127001dd0218c9523d3d87e64567386544\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf90000000000000000000000001481489c9b7c0bc96452660e952cca70498adec00000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":180188,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xF009Ca127001DD0218C9523d3D87E64567386544\\",\\"data\\":\\"0x2ec20bf90000000000000000000000001481489c9b7c0bc96452660e952cca70498adec00000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf90000000000000000000000001481489c9b7c0bc96452660e952cca70498adec00000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":180464,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xd7f930bf8996df9a1ad551c3ac509c105dcb0758\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf900000000000000000000000016022de7697864dfb7553c549ba5db624d6dfbfb000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":180464,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xD7F930BF8996dF9a1Ad551c3aC509C105Dcb0758\\",\\"data\\":\\"0x2ec20bf900000000000000000000000016022de7697864dfb7553c549ba5db624d6dfbfb000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf900000000000000000000000016022de7697864dfb7553c549ba5db624d6dfbfb000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "36796311322104302062438284732106019258",
  "amount0Delta": "-1000",
  "amount1Before": "0",
  "amount1Delta": "2",
  "executionPrice": "0.0020000",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170141183460469231731",
  "poolPriceAfter": "0.0000000000000000000000000000000000000029543",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "tickAfter": -887220,
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "36796311322104302062438284732106019258",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "0",
  "amount1Delta": "2",
  "executionPrice": "0.0000000000000000020000",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170141183460469231731",
  "poolPriceAfter": "0.0000000000000000000000000000000000000029543",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "tickAfter": -887220,
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "36796311322104302062438284732106019258",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "0",
  "amount1Delta": "2",
  "executionPrice": "0.0000000000000000020000",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170141183460469231731",
  "poolPriceAfter": "0.0000000000000000000000000000000000000029543",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "tickAfter": -887220,
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "transaction failed (transactionHash=\\"0x17b306e9833705eac6bac07168c3c3cc3b557f97ad4c118e43937b4d3b9cee8c\\", transaction={\\"nonce\\":15726,\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"gasLimit\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x64b907\\"},\\"to\\":\\"0xcE24E445606F8518da70C298431A12DcEb8430C3\\",\\"value\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"data\\":\\"0x9e77b805000000000000000000000000a65c30437efea86b27d8c88cc4e3bfcd78d2f5590000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"chainId\\":420,\\"v\\":876,\\"r\\":\\"0x1a834936d7ec1ece3247054cba09b3bfe68d20081573a173fae10f0773a6839e\\",\\"s\\":\\"0x3979333deb2925491fbb8fa97bf68d370bdd58b85fbe20654e653bf650aa9fa4\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"hash\\":\\"0x17b306e9833705eac6bac07168c3c3cc3b557f97ad4c118e43937b4d3b9cee8c\\"}, receipt={\\"to\\":\\"0xcE24E445606F8518da70C298431A12DcEb8430C3\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"contractAddress\\":null,\\"transactionIndex\\":0,\\"gasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x938a03\\"},\\"logsBloom\\":\\"0x00000000000000000000000000000000000000000000000000040000000000000000000000000000000000100000000100000000000000000000000000000000000000000000000000000008000000000000000000000000000000400000000000000000000000000000000100000000000000000000000000000010000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000200000000000000000000000002000000000000000000000000000000000000008000000000000000000000000000000000000000000000000\\",\\"blockHash\\":\\"0xd4eeaffc4317f9524efd044cb57f3b6af0a983866c1766a856f08ac6c01aa5ad\\",\\"transactionHash\\":\\"0x17b306e9833705eac6bac07168c3c3cc3b557f97ad4c118e43937b4d3b9cee8c\\",\\"logs\\":[{\\"transactionIndex\\":0,\\"blockNumber\\":15750,\\"transactionHash\\":\\"0x17b306e9833705eac6bac07168c3c3cc3b557f97ad4c118e43937b4d3b9cee8c\\",\\"address\\":\\"0x4200000000000000000000000000000000000006\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266\\",\\"0x0000000000000000000000004200000000000000000000000000000000000011\\"],\\"data\\":\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"logIndex\\":0,\\"blockHash\\":\\"0xd4eeaffc4317f9524efd044cb57f3b6af0a983866c1766a856f08ac6c01aa5ad\\"}],\\"blockNumber\\":15750,\\"confirmations\\":1,\\"cumulativeGasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x938a03\\"},\\"status\\":0,\\"byzantium\\":true}, code=CALL_EXCEPTION, version=providers/5.0.17)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests initialized at the min ratio swap token1 for token0 to price 2.5000 1`] = `
Object {
  "poolBalance0": "36796311322104302062438284732106019258",
  "poolBalance1": "0",
  "poolPriceBefore": "0.0000000000000000000000000000000000000029390",
  "swapError": "transaction failed (transactionHash=\\"0xda068a38891e38590d8a7cf586663c05670fc435bc505177d9e031b403f6d7c7\\", transaction={\\"nonce\\":15653,\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"gasLimit\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x64e025\\"},\\"to\\":\\"0xd435C880337746f228dB30e71BD8707fBE1bC8ee\\",\\"value\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"data\\":\\"0x9e77b805000000000000000000000000dac31314496be7e6760f8730f86d8a567d6290e5000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"chainId\\":420,\\"v\\":875,\\"r\\":\\"0x5b1ab2a44149511bfe05f109bcacf74905afb076007e24da14724fe441ff3c31\\",\\"s\\":\\"0x74c1c755417c9877ad07c738d08ab6e22cf576b72a5e255beb8cc8f6315accf7\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"hash\\":\\"0xda068a38891e38590d8a7cf586663c05670fc435bc505177d9e031b403f6d7c7\\"}, receipt={\\"to\\":\\"0xd435C880337746f228dB30e71BD8707fBE1bC8ee\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"contractAddress\\":null,\\"transactionIndex\\":0,\\"gasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x932503\\"},\\"logsBloom\\":\\"0x00000000000000000000000000000000000000000000000000040000000000000000000000000000000000100000000100000000000000000000000000000000000000000000000000000008000000000000000000000000000000400000000000000000000000000000000100000000000000000000000000000010000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000200000000000000000000000002000000000000000000000000000000000000008000000000000000000000000000000000000000000000000\\",\\"blockHash\\":\\"0xe8f461f4131a23ea216c75c2583d588cf09a9c803dd80dcbb3a75699cbc0ffb3\\",\\"transactionHash\\":\\"0xda068a38891e38590d8a7cf586663c05670fc435bc505177d9e031b403f6d7c7\\",\\"logs\\":[{\\"transactionIndex\\":0,\\"blockNumber\\":15677,\\"transactionHash\\":\\"0xda068a38891e38590d8a7cf586663c05670fc435bc505177d9e031b403f6d7c7\\",\\"address\\":\\"0x4200000000000000000000000000000000000006\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266\\",\\"0x0000000000000000000000004200000000000000000000000000000000000011\\"],\\"data\\":\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"logIndex\\":0,\\"blockHash\\":\\"0xe8f461f4131a23ea216c75c2583d588cf09a9c803dd80dcbb3a75699cbc0ffb3\\"}],\\"blockNumber\\":15677,\\"confirmations\\":1,\\"cumulativeGasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x932503\\"},\\"status\\":0,\\"byzantium\\":true}, code=CALL_EXCEPTION, version=providers/5.0.17)",
  "tickBefore": -887272,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-998",
  "executionPrice": "0.99800",
  "feeGrowthGlobal0X128Delta": "170141183460469231731",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-998",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1000",
  "executionPrice": "1.0020",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170141183460469231731",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-666444407401233536",
  "executionPrice": "0.66644",
  "feeGrowthGlobal0X128Delta": "85070591730234956148210572796405514",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.44459",
  "poolPriceBefore": "1.0000",
  "tickAfter": -8107,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "828841545518949575",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-585786437626904950",
  "executionPrice": "0.70675",
  "feeGrowthGlobal0X128Delta": "70510040727899606087499539976421836",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-666444407401233536",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "1.5005",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "85070591730234956148210572796405515",
  "poolPriceAfter": "2.2493",
  "poolPriceBefore": "1.0000",
  "tickAfter": 8106,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-585786437626904950",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "828841545518949574",
  "executionPrice": "1.4149",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "70510040727899435946316079507190105",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1002",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-1000",
  "executionPrice": "0.99800",
  "feeGrowthGlobal0X128Delta": "170141183460469231731",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "2001000500250125077",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "0.49975",
  "feeGrowthGlobal0X128Delta": "170226296608774038574344664756091446",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.25000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -13864,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "828841545518949575",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-585786437626904950",
  "executionPrice": "0.70675",
  "feeGrowthGlobal0X128Delta": "70510040727899606087499539976421836",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap token0 for token1 to price 0.40000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1162859089713235953",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-735088935932648266",
  "executionPrice": "0.63214",
  "feeGrowthGlobal0X128Delta": "98925110860787308007692432636113977",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -9164,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "2000000000000000000",
  "poolBalance1": "2000000000000000000",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":112564,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x858ada865cae7707fd1e6ad3035d32881f065e32\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf9000000000000000000000000efffdae0f7364c7b0933b0f34f164512695c1eb7000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":112564,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x858Ada865CAe7707Fd1e6ad3035D32881f065e32\\",\\"data\\":\\"0x2ec20bf9000000000000000000000000efffdae0f7364c7b0933b0f34f164512695c1eb7000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf9000000000000000000000000efffdae0f7364c7b0933b0f34f164512695c1eb7000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-1000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1002",
  "executionPrice": "1.0020",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170141183460469231731",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "2001000500250125079",
  "executionPrice": "2.0010",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170226296608774378856711585694554910",
  "poolPriceAfter": "4.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 13863,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-585786437626904950",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "828841545518949574",
  "executionPrice": "1.4149",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "70510040727899435946316079507190105",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "2000000000000000000",
  "poolBalance1": "2000000000000000000",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":112840,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x6c33e0e99e7f3a2733e982d57fa59d6530234c90\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b805000000000000000000000000282d64accec4eb3535978b3a62ad163e3e6dc0ce0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":112840,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x6c33e0E99E7f3a2733e982D57fA59D6530234C90\\",\\"data\\":\\"0x9e77b805000000000000000000000000282d64accec4eb3535978b3a62ad163e3e6dc0ce0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b805000000000000000000000000282d64accec4eb3535978b3a62ad163e3e6dc0ce0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, 1:1 price, 2e18 max range liquidity swap token1 for token0 to price 2.5000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-735088935932648266",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1162859089713235954",
  "executionPrice": "1.5819",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "98925110860787308007692432636113978",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 9163,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "999700069986003",
  "amount0Delta": "1000",
  "amount1Before": "999700069986003",
  "amount1Delta": "-998",
  "executionPrice": "0.99800",
  "feeGrowthGlobal0X128Delta": "170141183460469231731",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "999700069986003",
  "amount0Delta": "-998",
  "amount1Before": "999700069986003",
  "amount1Delta": "1000",
  "executionPrice": "1.0020",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170141183460469231731",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "poolBalance0": "999700069986003",
  "poolBalance1": "999700069986003",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":143762,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xff7176bb229be7ca909d1909716bdd7a7ecccf59\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x6dfc0ddb0000000000000000000000004583d4caeb85fb2e460bb480a6419c04f585de770000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\\\\\"}],\\\\\\"id\\\\\\":143762,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xfF7176bb229bE7CA909D1909716BdD7a7ecccF59\\",\\"data\\":\\"0x6dfc0ddb0000000000000000000000004583d4caeb85fb2e460bb480a6419c04f585de770000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\"}}, tx={\\"data\\":\\"0x6dfc0ddb0000000000000000000000004583d4caeb85fb2e460bb480a6419c04f585de770000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "999700069986003",
  "amount0Delta": "1000700370186095",
  "amount1Before": "999700069986003",
  "amount1Delta": "-999700069986002",
  "executionPrice": "0.99900",
  "feeGrowthGlobal0X128Delta": "85130172636557991529041720559172",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "poolBalance0": "999700069986003",
  "poolBalance1": "999700069986003",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":144038,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x9711a56ad64de645ce8476b2acfa66fd15af4bad\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xe2be91090000000000000000000000001e43d9655613793afc71132de86b324c9d39a6800000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\\\\\"}],\\\\\\"id\\\\\\":144038,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x9711a56AD64dE645ce8476b2ACfa66FD15aF4bAd\\",\\"data\\":\\"0xe2be91090000000000000000000000001e43d9655613793afc71132de86b324c9d39a6800000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\"}}, tx={\\"data\\":\\"0xe2be91090000000000000000000000001e43d9655613793afc71132de86b324c9d39a6800000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "999700069986003",
  "amount0Delta": "-999700069986002",
  "amount1Before": "999700069986003",
  "amount1Delta": "1000700370186095",
  "executionPrice": "1.0010",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "85130172636557991529041720559172",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "999700069986003",
  "amount0Delta": "1002",
  "amount1Before": "999700069986003",
  "amount1Delta": "-1000",
  "executionPrice": "0.99800",
  "feeGrowthGlobal0X128Delta": "170141183460469231731",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "poolBalance0": "999700069986003",
  "poolBalance1": "999700069986003",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":144314,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xfb14df2d11888016ccdb4577f5e4b719523299b7\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xbac7bf78000000000000000000000000accdece3ca75c34a0bc5ef17cbcd100f5691a7620000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\\\\\"}],\\\\\\"id\\\\\\":144314,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xfb14DF2d11888016ccDB4577f5e4b719523299b7\\",\\"data\\":\\"0xbac7bf78000000000000000000000000accdece3ca75c34a0bc5ef17cbcd100f5691a7620000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\"}}, tx={\\"data\\":\\"0xbac7bf78000000000000000000000000accdece3ca75c34a0bc5ef17cbcd100f5691a7620000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "999700069986003",
  "amount0Delta": "1000700370186095",
  "amount1Before": "999700069986003",
  "amount1Delta": "-999700069986002",
  "executionPrice": "0.99900",
  "feeGrowthGlobal0X128Delta": "85130172636557991529041720559172",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap token0 for token1 to price 0.40000 1`] = `
Object {
  "amount0Before": "999700069986003",
  "amount0Delta": "1000700370186095",
  "amount1Before": "999700069986003",
  "amount1Delta": "-999700069986002",
  "executionPrice": "0.99900",
  "feeGrowthGlobal0X128Delta": "85130172636557991529041720559172",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -9164,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "999700069986003",
  "poolBalance1": "999700069986003",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":147854,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xf26b059dcb3531e669cc2ec838ab37a0a723af1b\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf90000000000000000000000004147526bc0405a93d208ac659e76b1374e930cbc000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":147854,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xf26B059DCB3531E669Cc2EC838AB37a0A723aF1b\\",\\"data\\":\\"0x2ec20bf90000000000000000000000004147526bc0405a93d208ac659e76b1374e930cbc000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf90000000000000000000000004147526bc0405a93d208ac659e76b1374e930cbc000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "999700069986003",
  "amount0Delta": "-1000",
  "amount1Before": "999700069986003",
  "amount1Delta": "1002",
  "executionPrice": "1.0020",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170141183460469231731",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "poolBalance0": "999700069986003",
  "poolBalance1": "999700069986003",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":144590,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xa5cabc37f02a5315d64418c5e14af4dde5a8f124\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xf603482c000000000000000000000000f83e1da69431ab69c7bcc3d27b29df33f9e6a2ae0000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\\\\\"}],\\\\\\"id\\\\\\":144590,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xa5CabC37F02a5315d64418C5E14af4DdE5A8F124\\",\\"data\\":\\"0xf603482c000000000000000000000000f83e1da69431ab69c7bcc3d27b29df33f9e6a2ae0000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\"}}, tx={\\"data\\":\\"0xf603482c000000000000000000000000f83e1da69431ab69c7bcc3d27b29df33f9e6a2ae0000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "999700069986003",
  "amount0Delta": "-999700069986002",
  "amount1Before": "999700069986003",
  "amount1Delta": "1000700370186095",
  "executionPrice": "1.0010",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "85130172636557991529041720559172",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "999700069986003",
  "poolBalance1": "999700069986003",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":148128,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xc92f5a6fbb3811838c9edecc8feac25abb4612ed\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b80500000000000000000000000058c5f7637177dd8f41b25362c805588954580df80000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":148128,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xC92F5a6FBb3811838c9Edecc8feAc25Abb4612ed\\",\\"data\\":\\"0x9e77b80500000000000000000000000058c5f7637177dd8f41b25362c805588954580df80000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b80500000000000000000000000058c5f7637177dd8f41b25362c805588954580df80000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests low fee, large liquidity around current price (stable swap) swap token1 for token0 to price 2.5000 1`] = `
Object {
  "amount0Before": "999700069986003",
  "amount0Delta": "-999700069986002",
  "amount1Before": "999700069986003",
  "amount1Delta": "1000700370186095",
  "executionPrice": "1.0010",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "85130172636557991529041720559172",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 9163,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "1000",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "0",
  "executionPrice": "0.0000",
  "feeGrowthGlobal0X128Delta": "29575000",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "0",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "1000",
  "executionPrice": "-Infinity",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "29575000",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "-996999999999999318",
  "executionPrice": "0.99700",
  "feeGrowthGlobal0X128Delta": "88725000000017597125",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "-996999999999999318",
  "executionPrice": "0.99700",
  "feeGrowthGlobal0X128Delta": "88725000000017597125",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "-996999999999999232",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "1.0030",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "88725000000020140575",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "-996999999999999232",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "1.0030",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "88725000000020140575",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "145660",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "-1000",
  "executionPrice": "0.0068653",
  "feeGrowthGlobal0X128Delta": "12924275",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "1003009027081361181",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "0.99700",
  "feeGrowthGlobal0X128Delta": "88991975927793784300",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "1003009027081361181",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "0.99700",
  "feeGrowthGlobal0X128Delta": "88991975927793784300",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap token0 for token1 to price 0.40000 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "6706554036096900675845906992672697",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "-4228872409409224753601131225116702",
  "executionPrice": "0.63056",
  "feeGrowthGlobal0X128Delta": "595039006852697512464428097924911949",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -9164,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "11505743598341114571255423385623647",
  "poolBalance1": "11505743598341114571255423385506404",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":171430,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xf4844ba25c61fc804c2e45fb7d9f0d6ce452e6ce\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf90000000000000000000000009f9841168598b594dfdb71a9047b71aaba11b9ea000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":171430,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xf4844ba25c61FC804c2e45Fb7d9f0D6cE452e6cE\\",\\"data\\":\\"0x2ec20bf90000000000000000000000009f9841168598b594dfdb71a9047b71aaba11b9ea000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf90000000000000000000000009f9841168598b594dfdb71a9047b71aaba11b9ea000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "-1000",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "145660",
  "executionPrice": "145.66",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "12924275",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "1003009027081361094",
  "executionPrice": "1.0030",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "88991975927793784300",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "1003009027081361094",
  "executionPrice": "1.0030",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "88991975927793784300",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "11505743598341114571255423385623647",
  "poolBalance1": "11505743598341114571255423385506404",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":171706,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xaaf70aa023f7aae47465f146aa3a6a03922230c6\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b805000000000000000000000000e32002706a6f9be0c10a621e684f9ab71f1d2ec40000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":171706,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xaAF70Aa023f7aaE47465F146aa3A6A03922230c6\\",\\"data\\":\\"0x9e77b805000000000000000000000000e32002706a6f9be0c10a621e684f9ab71f1d2ec40000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b805000000000000000000000000e32002706a6f9be0c10a621e684f9ab71f1d2ec40000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests max full range liquidity at 1:1 price with default fee swap token1 for token0 to price 2.5000 1`] = `
Object {
  "amount0Before": "11505743598341114571255423385623647",
  "amount0Delta": "-4228872409409224753601131224936259",
  "amount1Before": "11505743598341114571255423385506404",
  "amount1Delta": "6706554036096900675845906992220230",
  "executionPrice": "1.5859",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "595039006852697512464428097884749099",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 9163,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "1000",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "-991",
  "executionPrice": "0.99100",
  "feeGrowthGlobal0X128Delta": "510423550381407695195",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.99402",
  "poolPriceBefore": "1.0000",
  "tickAfter": -61,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "-991",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "1000",
  "executionPrice": "1.0091",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195",
  "poolPriceAfter": "1.0060",
  "poolPriceBefore": "1.0000",
  "tickAfter": 60,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "-662011820624678025",
  "executionPrice": "0.66201",
  "feeGrowthGlobal0X128Delta": "510423550381407695195061911147652317",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.44355",
  "poolPriceBefore": "1.0000",
  "tickAfter": -8130,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "824893095908431542",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "-579795727715083389",
  "executionPrice": "0.70287",
  "feeGrowthGlobal0X128Delta": "421044862698692740725170743495410672",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "-662011820624678025",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "1.5105",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195061911147652317",
  "poolPriceAfter": "2.2545",
  "poolPriceBefore": "1.0000",
  "tickAfter": 8129,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "-579795727715083389",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "824893095908431542",
  "executionPrice": "1.4227",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "421044862698692740725170743495410672",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "1011",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "-1000",
  "executionPrice": "0.98912",
  "feeGrowthGlobal0X128Delta": "680564733841876926926",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.99402",
  "poolPriceBefore": "1.0000",
  "tickAfter": -61,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "2024171064311638316",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "0.49403",
  "feeGrowthGlobal0X128Delta": "1033184581225259164735720748018047287",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.24701",
  "poolPriceBefore": "1.0000",
  "tickAfter": -13984,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "824893095908431542",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "-579795727715083389",
  "executionPrice": "0.70287",
  "feeGrowthGlobal0X128Delta": "421044862698692740725170743495410672",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap token0 for token1 to price 0.40000 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "1159748196632793863",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "-729098226020826705",
  "executionPrice": "0.62867",
  "feeGrowthGlobal0X128Delta": "591962792073745646583043420635066071",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -9164,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "1994009290088178439",
  "poolBalance1": "1994009290088178439",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":136827,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x84be5e57b74e8399ad9f413d53ec5fda00dadc57\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf90000000000000000000000005416ea7d1cae9dc92494ec7df36ebec871e65705000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":136827,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x84be5e57b74e8399AD9F413D53EC5fdA00dAdc57\\",\\"data\\":\\"0x2ec20bf90000000000000000000000005416ea7d1cae9dc92494ec7df36ebec871e65705000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf90000000000000000000000005416ea7d1cae9dc92494ec7df36ebec871e65705000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "-1000",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "1011",
  "executionPrice": "1.0110",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "680564733841876926926",
  "poolPriceAfter": "1.0060",
  "poolPriceBefore": "1.0000",
  "tickAfter": 60,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "2024171064311638316",
  "executionPrice": "2.0242",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "1033184581225259164735720748018047287",
  "poolPriceAfter": "4.0484",
  "poolPriceBefore": "1.0000",
  "tickAfter": 13983,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "-579795727715083389",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "824893095908431542",
  "executionPrice": "1.4227",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "421044862698692740725170743495410672",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "1994009290088178439",
  "poolBalance1": "1994009290088178439",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":137152,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x4ab821b037652c44ed6506af738d840dd1833d08\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b805000000000000000000000000e73e11eaca8c5d535752dde30d8b743a9acf28780000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":137152,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x4AB821b037652C44Ed6506aF738D840DD1833d08\\",\\"data\\":\\"0x9e77b805000000000000000000000000e73e11eaca8c5d535752dde30d8b743a9acf28780000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b805000000000000000000000000e73e11eaca8c5d535752dde30d8b743a9acf28780000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 0 liquidity, all liquidity around current price swap token1 for token0 to price 2.5000 1`] = `
Object {
  "amount0Before": "1994009290088178439",
  "amount0Delta": "-729098226020826705",
  "amount1Before": "1994009290088178439",
  "amount1Delta": "1159748196632793863",
  "executionPrice": "1.5907",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "591962792073745646583043420635066071",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 9163,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-996",
  "executionPrice": "0.99600",
  "feeGrowthGlobal0X128Delta": "510423550381407695195",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-996",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1000",
  "executionPrice": "1.0040",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-665331998665331998",
  "executionPrice": "0.66533",
  "feeGrowthGlobal0X128Delta": "510423550381407695195061911147652317",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.44533",
  "poolPriceBefore": "1.0000",
  "tickAfter": -8090,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "830919884399388263",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-585786437626904951",
  "executionPrice": "0.70499",
  "feeGrowthGlobal0X128Delta": "424121077477644648929101317621422688",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-665331998665331998",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "1.5030",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195061911147652317",
  "poolPriceAfter": "2.2455",
  "poolPriceBefore": "1.0000",
  "tickAfter": 8089,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-585786437626904951",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "830919884399388263",
  "executionPrice": "1.4185",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "424121077477644648929101317621422688",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1005",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-1000",
  "executionPrice": "0.99502",
  "feeGrowthGlobal0X128Delta": "680564733841876926926",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "2006018054162487463",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "0.49850",
  "feeGrowthGlobal0X128Delta": "1023918857334819954209013958517557896",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.25000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -13864,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "830919884399388263",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-585786437626904951",
  "executionPrice": "0.70499",
  "feeGrowthGlobal0X128Delta": "424121077477644648929101317621422688",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap token0 for token1 to price 0.40000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "1165774985123750584",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "-735088935932648267",
  "executionPrice": "0.63056",
  "feeGrowthGlobal0X128Delta": "595039006852697554786973994761078087",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -9164,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "2000000000000000000",
  "poolBalance1": "2000000000000000000",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":117298,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x1a3da26580f777d652662483976add10d90e69a6\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf90000000000000000000000000432af7ac2d8704e243cbaa007922682cee3b011000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":117298,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x1A3da26580f777D652662483976AdD10d90e69a6\\",\\"data\\":\\"0x2ec20bf90000000000000000000000000432af7ac2d8704e243cbaa007922682cee3b011000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf90000000000000000000000000432af7ac2d8704e243cbaa007922682cee3b011000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-1000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1005",
  "executionPrice": "1.0050",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "680564733841876926926",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "2006018054162487463",
  "executionPrice": "2.0060",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "1023918857334819954209013958517557896",
  "poolPriceAfter": "4.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 13863,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-585786437626904951",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "830919884399388263",
  "executionPrice": "1.4185",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "424121077477644648929101317621422688",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "2000000000000000000",
  "poolBalance1": "2000000000000000000",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":117574,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x24177fb52068115cf7f27fbf8e6528b231b305e7\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b805000000000000000000000000741a02173c1f39f2862b05c9b5f8e0971cee7d5e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":117574,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x24177fb52068115cf7F27FbF8e6528B231b305E7\\",\\"data\\":\\"0x9e77b805000000000000000000000000741a02173c1f39f2862b05c9b5f8e0971cee7d5e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b805000000000000000000000000741a02173c1f39f2862b05c9b5f8e0971cee7d5e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, 2e18 max range liquidity swap token1 for token0 to price 2.5000 1`] = `
Object {
  "amount0Before": "2000000000000000000",
  "amount0Delta": "-735088935932648267",
  "amount1Before": "2000000000000000000",
  "amount1Delta": "1165774985123750584",
  "executionPrice": "1.5859",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "595039006852697554786973994761078087",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 9163,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "1000",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "-996",
  "executionPrice": "0.99600",
  "feeGrowthGlobal0X128Delta": "510423550381407695195",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "-996",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "1000",
  "executionPrice": "1.0040",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "-795933705287758544",
  "executionPrice": "0.79593",
  "feeGrowthGlobal0X128Delta": "256749882580179971840679703106063897",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.63923",
  "poolPriceBefore": "1.0000",
  "tickAfter": -4476,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "-795933705287758544",
  "executionPrice": "0.79593",
  "feeGrowthGlobal0X128Delta": "256749882580179971840679703106063897",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.63923",
  "poolPriceBefore": "1.0000",
  "tickAfter": -4476,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "-795933705287758544",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "1.2564",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "256749882580179971840679703106063897",
  "poolPriceAfter": "1.5644",
  "poolPriceBefore": "1.0000",
  "tickAfter": 4475,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "-795933705287758544",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "1.2564",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "256749882580179971840679703106063897",
  "poolPriceAfter": "1.5644",
  "poolPriceBefore": "1.0000",
  "tickAfter": 4475,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "1005",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "-1000",
  "executionPrice": "0.99502",
  "feeGrowthGlobal0X128Delta": "680564733841876926926",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "1342022152495072924",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "0.74514",
  "feeGrowthGlobal0X128Delta": "344037963272993171369654596359692757",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.56026",
  "poolPriceBefore": "1.0000",
  "tickAfter": -5794,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "1342022152495072924",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "0.74514",
  "feeGrowthGlobal0X128Delta": "344037963272993171369654596359692757",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.56026",
  "poolPriceBefore": "1.0000",
  "tickAfter": -5794,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap token0 for token1 to price 0.40000 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "2325523181756544449",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "-1464187161953474971",
  "executionPrice": "0.62962",
  "feeGrowthGlobal0X128Delta": "595039006852697724928157455230309818",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -9164,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "3994009290088178439",
  "poolBalance1": "3994009290088178439",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":143074,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x2d74753023cc685af30f929f4aefb792cc32c28d\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf9000000000000000000000000bb6805a30ab7eee9b5bdbaa39d59c267e079d0f4000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":143074,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x2D74753023CC685aF30F929f4AEFb792cC32c28d\\",\\"data\\":\\"0x2ec20bf9000000000000000000000000bb6805a30ab7eee9b5bdbaa39d59c267e079d0f4000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf9000000000000000000000000bb6805a30ab7eee9b5bdbaa39d59c267e079d0f4000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "-1000",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "1005",
  "executionPrice": "1.0050",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "680564733841876926926",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "1342022152495072924",
  "executionPrice": "1.3420",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "344037963272993171369654596359692757",
  "poolPriceAfter": "1.7849",
  "poolPriceBefore": "1.0000",
  "tickAfter": 5793,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "1342022152495072924",
  "executionPrice": "1.3420",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "344037963272993171369654596359692757",
  "poolPriceAfter": "1.7849",
  "poolPriceBefore": "1.0000",
  "tickAfter": 5793,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "3994009290088178439",
  "poolBalance1": "3994009290088178439",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":143446,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xf69b36fbee14380018dd5ed3f4fd4df9e0de8b96\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b805000000000000000000000000266aea393c2510d610fa5d09d765aace554186490000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":143446,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xf69B36fBEe14380018DD5Ed3F4FD4df9E0De8B96\\",\\"data\\":\\"0x9e77b805000000000000000000000000266aea393c2510d610fa5d09d765aace554186490000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b805000000000000000000000000266aea393c2510d610fa5d09d765aace554186490000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:1 price, additional liquidity around current price swap token1 for token0 to price 2.5000 1`] = `
Object {
  "amount0Before": "3994009290088178439",
  "amount0Delta": "-1464187161953474971",
  "amount1Before": "3994009290088178439",
  "amount1Delta": "2325523181756544449",
  "executionPrice": "1.5883",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "595039006852697724928157455230309818",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 9163,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "6324555320336758664",
  "amount0Delta": "1000",
  "amount1Before": "632455532033675867",
  "amount1Delta": "-99",
  "executionPrice": "0.099000",
  "feeGrowthGlobal0X128Delta": "510423550381407695195",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.10000",
  "poolPriceBefore": "0.10000",
  "tickAfter": -23028,
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "6324555320336758664",
  "amount0Delta": "-9969",
  "amount1Before": "632455532033675867",
  "amount1Delta": "1000",
  "executionPrice": "0.10031",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195",
  "poolPriceAfter": "0.10000",
  "poolPriceBefore": "0.10000",
  "tickAfter": -23028,
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "6324555320336758664",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "632455532033675867",
  "amount1Delta": "-86123526743846551",
  "executionPrice": "0.086124",
  "feeGrowthGlobal0X128Delta": "510423550381407695195061911147652317",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.074620",
  "poolPriceBefore": "0.10000",
  "tickAfter": -25955,
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "poolBalance0": "6324555320336758664",
  "poolBalance1": "632455532033675867",
  "poolPriceBefore": "0.10000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":128442,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xe49145eb37181a56e03d30ba63050875f8c8b994\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x6dfc0ddb0000000000000000000000008a16300cca9a82db0e5f0bb9bdd43e931ab300820000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\\\\\"}],\\\\\\"id\\\\\\":128442,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xE49145Eb37181a56e03D30Ba63050875f8C8B994\\",\\"data\\":\\"0x6dfc0ddb0000000000000000000000008a16300cca9a82db0e5f0bb9bdd43e931ab300820000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\"}}, tx={\\"data\\":\\"0x6dfc0ddb0000000000000000000000008a16300cca9a82db0e5f0bb9bdd43e931ab300820000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "6324555320336758664",
  "amount0Delta": "-3869747612262812753",
  "amount1Before": "632455532033675867",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "0.25841",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407865336245371616884047",
  "poolPriceAfter": "0.66378",
  "poolPriceBefore": "0.10000",
  "tickAfter": -4099,
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "6324555320336758664",
  "amount0Delta": "-3869747612262812753",
  "amount1Before": "632455532033675867",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "0.25841",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407865336245371616884047",
  "poolPriceAfter": "0.66378",
  "poolPriceBefore": "0.10000",
  "tickAfter": -4099,
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "6324555320336758664",
  "amount0Delta": "10032",
  "amount1Before": "632455532033675867",
  "amount1Delta": "-1000",
  "executionPrice": "0.099681",
  "feeGrowthGlobal0X128Delta": "5274376687274546183682",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.10000",
  "poolPriceBefore": "0.10000",
  "tickAfter": -23028,
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "poolBalance0": "6324555320336758664",
  "poolBalance1": "632455532033675867",
  "poolPriceBefore": "0.10000",
  "swapError": "transaction failed (transactionHash=\\"0xbc03c9d7f1e3d21a48279f1ac45d2801044ead26b83a45f5fd7564dab3164cdf\\", transaction={\\"nonce\\":11205,\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"gasLimit\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x65f176\\"},\\"to\\":\\"0x3fbb954Cb970a5A1492f759FcCCbF3ca254cFdeA\\",\\"value\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"data\\":\\"0xbac7bf780000000000000000000000008b1932ec72f57076fb2690ca7a535c05405a81590000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000001000276a4\\",\\"chainId\\":420,\\"v\\":875,\\"r\\":\\"0x87eebcc8278e9f9fa1da0946301cd0f180be0fd6b10b0a3c57dda2f7e53facc8\\",\\"s\\":\\"0x72095dbfa0721789ec82fa67b21b904c51371a6122dc99c40087ff13f633381b\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"hash\\":\\"0xbc03c9d7f1e3d21a48279f1ac45d2801044ead26b83a45f5fd7564dab3164cdf\\"}, receipt={\\"to\\":\\"0x3fbb954Cb970a5A1492f759FcCCbF3ca254cFdeA\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"contractAddress\\":null,\\"transactionIndex\\":0,\\"gasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x9360b6\\"},\\"logsBloom\\":\\"0x00000000000000000000000000000000000000000000000000040000000000000000000000000000000000100000000100000000000000000000000000000000000000000000000000000008000000000000000000000000000000400000000000000000000000000000000100000000000000000000000000000010000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000200000000000000000000000002000000000000000000000000000000000000008000000000000000000000000000000000000000000000000\\",\\"blockHash\\":\\"0xd204b5bdc7bf2d1b43ca81a9345e1dc4202abd7fc1d8b77c8543fd79a220cece\\",\\"transactionHash\\":\\"0xbc03c9d7f1e3d21a48279f1ac45d2801044ead26b83a45f5fd7564dab3164cdf\\",\\"logs\\":[{\\"transactionIndex\\":0,\\"blockNumber\\":11229,\\"transactionHash\\":\\"0xbc03c9d7f1e3d21a48279f1ac45d2801044ead26b83a45f5fd7564dab3164cdf\\",\\"address\\":\\"0x4200000000000000000000000000000000000006\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266\\",\\"0x0000000000000000000000004200000000000000000000000000000000000011\\"],\\"data\\":\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"logIndex\\":0,\\"blockHash\\":\\"0xd204b5bdc7bf2d1b43ca81a9345e1dc4202abd7fc1d8b77c8543fd79a220cece\\"}],\\"blockNumber\\":11229,\\"confirmations\\":1,\\"cumulativeGasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x9360b6\\"},\\"status\\":0,\\"byzantium\\":true}, code=CALL_EXCEPTION, version=providers/5.0.17)",
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "poolBalance0": "6324555320336758664",
  "poolBalance1": "632455532033675867",
  "poolPriceBefore": "0.10000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":129014,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xd8f0662480b5de7add244bbf330c3ad0bc5b7a1d\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xbac7bf780000000000000000000000000457783e4e762d3b80fd7ff640a40f8581adf5360000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\\\\\"}],\\\\\\"id\\\\\\":129014,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xd8F0662480B5De7ADD244BbF330C3Ad0bC5B7a1D\\",\\"data\\":\\"0xbac7bf780000000000000000000000000457783e4e762d3b80fd7ff640a40f8581adf5360000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\"}}, tx={\\"data\\":\\"0xbac7bf780000000000000000000000000457783e4e762d3b80fd7ff640a40f8581adf5360000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap token0 for token1 to price 0.40000 1`] = `
Object {
  "poolBalance0": "6324555320336758664",
  "poolBalance1": "632455532033675867",
  "poolPriceBefore": "0.10000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":131072,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x9cf3ecb9663e0d002a33b321cec460f54c1cc0b3\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf9000000000000000000000000847f1c92b89b1c6b5b64d24e4a46e5e52e304ab70000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":131072,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x9Cf3eCB9663E0D002A33B321CEC460F54c1cc0B3\\",\\"data\\":\\"0x2ec20bf9000000000000000000000000847f1c92b89b1c6b5b64d24e4a46e5e52e304ab70000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf9000000000000000000000000847f1c92b89b1c6b5b64d24e4a46e5e52e304ab70000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "6324555320336758664",
  "poolBalance1": "632455532033675867",
  "poolPriceBefore": "0.10000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":131348,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x2f5038dc7fa352102cbe02542ffd511d0d37d907\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf9000000000000000000000000af48ea0f77f3c1ab3af8cf52c164a7e2abbbee41000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":131348,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x2F5038dC7fA352102Cbe02542fFD511D0d37d907\\",\\"data\\":\\"0x2ec20bf9000000000000000000000000af48ea0f77f3c1ab3af8cf52c164a7e2abbbee41000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf9000000000000000000000000af48ea0f77f3c1ab3af8cf52c164a7e2abbbee41000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "6324555320336758664",
  "amount0Delta": "-1000",
  "amount1Before": "632455532033675867",
  "amount1Delta": "102",
  "executionPrice": "0.10200",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "170141183460469231731",
  "poolPriceAfter": "0.10000",
  "poolPriceBefore": "0.10000",
  "tickAfter": -23028,
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "6324555320336758664",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "632455532033675867",
  "amount1Delta": "119138326055954425",
  "executionPrice": "0.11914",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "60811007371978153949466126675899993",
  "poolPriceAfter": "0.14109",
  "poolPriceBefore": "0.10000",
  "tickAfter": -19585,
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "6324555320336758664",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "632455532033675867",
  "amount1Delta": "119138326055954425",
  "executionPrice": "0.11914",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "60811007371978153949466126675899993",
  "poolPriceAfter": "0.14109",
  "poolPriceBefore": "0.10000",
  "tickAfter": -19585,
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap token1 for token0 to price 0.40000 1`] = `
Object {
  "amount0Before": "6324555320336758664",
  "amount0Delta": "-3162277660168379331",
  "amount1Before": "632455532033675867",
  "amount1Delta": "634358607857247611",
  "executionPrice": "0.20060",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "323791572837503501799197590655727195",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "0.10000",
  "tickAfter": -9164,
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 1:10 price, 2e18 max range liquidity swap token1 for token0 to price 2.5000 1`] = `
Object {
  "amount0Before": "6324555320336758664",
  "amount0Delta": "-5059644256269406930",
  "amount1Before": "632455532033675867",
  "amount1Delta": "2537434431428990440",
  "executionPrice": "0.50150",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "1295166291350014177337973823092140516",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "0.10000",
  "tickAfter": 9163,
  "tickBefore": -23028,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "632455532033675867",
  "amount0Delta": "1000",
  "amount1Before": "6324555320336758664",
  "amount1Delta": "-9969",
  "executionPrice": "9.9690",
  "feeGrowthGlobal0X128Delta": "510423550381407695195",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "10.000",
  "poolPriceBefore": "10.000",
  "tickAfter": 23027,
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "632455532033675867",
  "amount0Delta": "-99",
  "amount1Before": "6324555320336758664",
  "amount1Delta": "1000",
  "executionPrice": "10.101",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195",
  "poolPriceAfter": "10.000",
  "poolPriceBefore": "10.000",
  "tickAfter": 23027,
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "632455532033675867",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "6324555320336758664",
  "amount1Delta": "-3869747612262812754",
  "executionPrice": "3.8697",
  "feeGrowthGlobal0X128Delta": "510423550381407865336245371616884048",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.5065",
  "poolPriceBefore": "10.000",
  "tickAfter": 4098,
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "632455532033675867",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "6324555320336758664",
  "amount1Delta": "-3869747612262812754",
  "executionPrice": "3.8697",
  "feeGrowthGlobal0X128Delta": "510423550381407865336245371616884048",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.5065",
  "poolPriceBefore": "10.000",
  "tickAfter": 4098,
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "632455532033675867",
  "amount0Delta": "-86123526743846551",
  "amount1Before": "6324555320336758664",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "11.611",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195061911147652317",
  "poolPriceAfter": "13.401",
  "poolPriceBefore": "10.000",
  "tickAfter": 25954,
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "poolBalance0": "632455532033675867",
  "poolBalance1": "6324555320336758664",
  "poolPriceBefore": "10.000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":124062,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x73410e6b9047e04bf169494f9ea8adfcfe5c2ccf\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xe2be910900000000000000000000000018d4f1a4b536f632b5f22eafec21e1a34c8d7a390000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\\\\\"}],\\\\\\"id\\\\\\":124062,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x73410E6B9047e04BF169494f9ea8AdfcfE5c2CCf\\",\\"data\\":\\"0xe2be910900000000000000000000000018d4f1a4b536f632b5f22eafec21e1a34c8d7a390000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\"}}, tx={\\"data\\":\\"0xe2be910900000000000000000000000018d4f1a4b536f632b5f22eafec21e1a34c8d7a390000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "632455532033675867",
  "amount0Delta": "102",
  "amount1Before": "6324555320336758664",
  "amount1Delta": "-1000",
  "executionPrice": "9.8039",
  "feeGrowthGlobal0X128Delta": "170141183460469231731",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "10.000",
  "poolPriceBefore": "10.000",
  "tickAfter": 23027,
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "632455532033675867",
  "amount0Delta": "119138326055954425",
  "amount1Before": "6324555320336758664",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "8.3936",
  "feeGrowthGlobal0X128Delta": "60811007371978153949466126675899993",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "7.0877",
  "poolPriceBefore": "10.000",
  "tickAfter": 19584,
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "632455532033675867",
  "amount0Delta": "119138326055954425",
  "amount1Before": "6324555320336758664",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "8.3936",
  "feeGrowthGlobal0X128Delta": "60811007371978153949466126675899993",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "7.0877",
  "poolPriceBefore": "10.000",
  "tickAfter": 19584,
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token0 for token1 to price 0.40000 1`] = `
Object {
  "amount0Before": "632455532033675867",
  "amount0Delta": "2537434431428990438",
  "amount1Before": "6324555320336758664",
  "amount1Delta": "-5059644256269406930",
  "executionPrice": "1.9940",
  "feeGrowthGlobal0X128Delta": "1295166291350014007196790362622908786",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "10.000",
  "tickAfter": -9164,
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token0 for token1 to price 2.5000 1`] = `
Object {
  "amount0Before": "632455532033675867",
  "amount0Delta": "634358607857247610",
  "amount1Before": "6324555320336758664",
  "amount1Delta": "-3162277660168379331",
  "executionPrice": "4.9850",
  "feeGrowthGlobal0X128Delta": "323791572837503501799197590655727196",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "10.000",
  "tickAfter": 9163,
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "632455532033675867",
  "amount0Delta": "-1000",
  "amount1Before": "6324555320336758664",
  "amount1Delta": "10032",
  "executionPrice": "10.032",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "5274376687274546183682",
  "poolPriceAfter": "10.000",
  "poolPriceBefore": "10.000",
  "tickAfter": 23027,
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "poolBalance0": "632455532033675867",
  "poolBalance1": "6324555320336758664",
  "poolPriceBefore": "10.000",
  "swapError": "transaction failed (transactionHash=\\"0x1159a5df558776b40e433c896d3dd93ec15ccaebd513594e45fbe2dac1bd7320\\", transaction={\\"nonce\\":10834,\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"gasLimit\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x686278\\"},\\"to\\":\\"0x9e96ec2B90DC290724f87d4beaAA3DEA94b0FA3B\\",\\"value\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"data\\":\\"0xf603482c000000000000000000000000964a8a474e9dced485fdde0e9e570c36e4798aaf0000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d25\\",\\"chainId\\":420,\\"v\\":876,\\"r\\":\\"0x31ea7052a4b7159b4d51058cd6e8875f02c920f12d0102d256c35a93d10da616\\",\\"s\\":\\"0x79f12e486c5b229c43229d3514b7c4accc32d6fdc95f792af510f99316e451a4\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"hash\\":\\"0x1159a5df558776b40e433c896d3dd93ec15ccaebd513594e45fbe2dac1bd7320\\"}, receipt={\\"to\\":\\"0x9e96ec2B90DC290724f87d4beaAA3DEA94b0FA3B\\",\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"contractAddress\\":null,\\"transactionIndex\\":0,\\"gasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x9391ff\\"},\\"logsBloom\\":\\"0x00000000000000000000000000000000000000000000000000040000000000000000000000000000000000100000000100000000000000000000000000000000000000000000000000000008000000000000000000000000000000400000000000000000000000000000000100000000000000000000000000000010000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000200000000000000000000000002000000000000000000000000000000000000008000000000000000000000000000000000000000000000000\\",\\"blockHash\\":\\"0x675f1b27b26c6498b8d9ab815a04507b5e2b36f2a66c482c01954a33643b756c\\",\\"transactionHash\\":\\"0x1159a5df558776b40e433c896d3dd93ec15ccaebd513594e45fbe2dac1bd7320\\",\\"logs\\":[{\\"transactionIndex\\":0,\\"blockNumber\\":10858,\\"transactionHash\\":\\"0x1159a5df558776b40e433c896d3dd93ec15ccaebd513594e45fbe2dac1bd7320\\",\\"address\\":\\"0x4200000000000000000000000000000000000006\\",\\"topics\\":[\\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\\",\\"0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266\\",\\"0x0000000000000000000000004200000000000000000000000000000000000011\\"],\\"data\\":\\"0x0000000000000000000000000000000000000000000000000000000000000000\\",\\"logIndex\\":0,\\"blockHash\\":\\"0x675f1b27b26c6498b8d9ab815a04507b5e2b36f2a66c482c01954a33643b756c\\"}],\\"blockNumber\\":10858,\\"confirmations\\":1,\\"cumulativeGasUsed\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x9391ff\\"},\\"status\\":0,\\"byzantium\\":true}, code=CALL_EXCEPTION, version=providers/5.0.17)",
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "poolBalance0": "632455532033675867",
  "poolBalance1": "6324555320336758664",
  "poolPriceBefore": "10.000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":124638,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x55eb5bf8da73c3ad41f57b89c7e48f0b4d0de927\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0xf603482c00000000000000000000000012f51de771691bc0d8ee5e205b945657588cb2ef0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\\\\\"}],\\\\\\"id\\\\\\":124638,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x55eb5bf8DA73c3Ad41F57B89c7E48F0b4D0dE927\\",\\"data\\":\\"0xf603482c00000000000000000000000012f51de771691bc0d8ee5e205b945657588cb2ef0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\"}}, tx={\\"data\\":\\"0xf603482c00000000000000000000000012f51de771691bc0d8ee5e205b945657588cb2ef0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "632455532033675867",
  "poolBalance1": "6324555320336758664",
  "poolPriceBefore": "10.000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":126986,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x68bab57f896406372331ae5ae184f400c4151cd1\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b8050000000000000000000000002764baf1b71a7fe7308966eb41726a05e48f3d180000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":126986,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x68bAB57F896406372331ae5aE184F400C4151Cd1\\",\\"data\\":\\"0x9e77b8050000000000000000000000002764baf1b71a7fe7308966eb41726a05e48f3d180000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b8050000000000000000000000002764baf1b71a7fe7308966eb41726a05e48f3d180000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token1 for token0 to price 2.5000 1`] = `
Object {
  "poolBalance0": "632455532033675867",
  "poolBalance1": "6324555320336758664",
  "poolPriceBefore": "10.000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":126108,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xe2ff3c705465cb0db098c1a965cab1829cf045be\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b805000000000000000000000000ddb3e5fbba9b01eb39fcd64b2d459e8200032204000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":126108,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xE2ff3C705465Cb0dB098C1a965caB1829cF045Be\\",\\"data\\":\\"0x9e77b805000000000000000000000000ddb3e5fbba9b01eb39fcd64b2d459e8200032204000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b805000000000000000000000000ddb3e5fbba9b01eb39fcd64b2d459e8200032204000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 23027,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "0",
  "amount1Before": "0",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.0000000000000000000000000000000000000029390",
  "poolPriceBefore": "1.0000",
  "tickAfter": -887272,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "-996",
  "amount1Before": "0",
  "amount1Delta": "1000",
  "executionPrice": "1.0040",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "0",
  "amount1Before": "0",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.0000000000000000000000000000000000000029390",
  "poolPriceBefore": "1.0000",
  "tickAfter": -887272,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "0",
  "amount1Before": "0",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "-665331998665331998",
  "amount1Before": "0",
  "amount1Delta": "1000000000000000000",
  "executionPrice": "1.5030",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "510423550381407695195061911147652317",
  "poolPriceAfter": "2.2455",
  "poolPriceBefore": "1.0000",
  "tickAfter": 8089,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "-585786437626904951",
  "amount1Before": "0",
  "amount1Delta": "830919884399388263",
  "executionPrice": "1.4185",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "424121077477644648929101317621422688",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "0",
  "amount1Before": "0",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.0000000000000000000000000000000000000029390",
  "poolPriceBefore": "1.0000",
  "tickAfter": -887272,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "0",
  "amount1Before": "0",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.0000000000000000000000000000000000000029390",
  "poolPriceBefore": "1.0000",
  "tickAfter": -887272,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "0",
  "amount1Before": "0",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap token0 for token1 to price 0.40000 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "0",
  "amount1Before": "0",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -9164,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "1995041008271423675",
  "poolBalance1": "0",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":152580,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0xf043f49167a9c10679bcd7a303ce5c28a95b9e69\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf90000000000000000000000005aa8b8af89c3455ee983c17155f853b37c0a910b000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":152580,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0xF043F49167a9C10679bCd7A303cE5C28a95b9e69\\",\\"data\\":\\"0x2ec20bf90000000000000000000000005aa8b8af89c3455ee983c17155f853b37c0a910b000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf90000000000000000000000005aa8b8af89c3455ee983c17155f853b37c0a910b000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "-1000",
  "amount1Before": "0",
  "amount1Delta": "1005",
  "executionPrice": "1.0050",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "680564733841876926926",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 0,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "-1000000000000000000",
  "amount1Before": "0",
  "amount1Delta": "2006018054162487463",
  "executionPrice": "2.0060",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "1023918857334819954209013958517557896",
  "poolPriceAfter": "4.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 13863,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "-585786437626904951",
  "amount1Before": "0",
  "amount1Delta": "830919884399388263",
  "executionPrice": "1.4185",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "424121077477644648929101317621422688",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "1995041008271423675",
  "poolBalance1": "0",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":152856,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x0d5ab5f1f5ad15d41c5d2e571a6014e9a56d44cc\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b8050000000000000000000000001da4889af198db5f29597bbfe62655c058c46bfe0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":152856,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x0d5AB5F1F5ad15D41c5D2e571A6014e9A56d44cc\\",\\"data\\":\\"0x9e77b8050000000000000000000000001da4889af198db5f29597bbfe62655c058c46bfe0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b8050000000000000000000000001da4889af198db5f29597bbfe62655c058c46bfe0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token0 liquidity only swap token1 for token0 to price 2.5000 1`] = `
Object {
  "amount0Before": "1995041008271423675",
  "amount0Delta": "-735088935932648267",
  "amount1Before": "0",
  "amount1Delta": "1165774985123750584",
  "executionPrice": "1.5859",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "595039006852697554786973994761078087",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 9163,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap exactly 0.0000000000000010000 token0 for token1 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "1000",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "-996",
  "executionPrice": "0.99600",
  "feeGrowthGlobal0X128Delta": "510423550381407695195",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap exactly 0.0000000000000010000 token1 for token0 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "0",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "3.4026e+38",
  "poolPriceBefore": "1.0000",
  "tickAfter": 887271,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap exactly 1.0000 token0 for token1 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "1000000000000000000",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "-665331998665331998",
  "executionPrice": "0.66533",
  "feeGrowthGlobal0X128Delta": "510423550381407695195061911147652317",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.44533",
  "poolPriceBefore": "1.0000",
  "tickAfter": -8090,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap exactly 1.0000 token0 for token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "830919884399388263",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "-585786437626904951",
  "executionPrice": "0.70499",
  "feeGrowthGlobal0X128Delta": "424121077477644648929101317621422688",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap exactly 1.0000 token1 for token0 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "0",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "3.4026e+38",
  "poolPriceBefore": "1.0000",
  "tickAfter": 887271,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap exactly 1.0000 token1 for token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "0",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap token0 for exactly 0.0000000000000010000 token1 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "1005",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "-1000",
  "executionPrice": "0.99502",
  "feeGrowthGlobal0X128Delta": "680564733841876926926",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "1.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -1,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap token0 for exactly 1.0000 token1 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "2006018054162487463",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "-1000000000000000000",
  "executionPrice": "0.49850",
  "feeGrowthGlobal0X128Delta": "1023918857334819954209013958517557896",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.25000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -13864,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap token0 for exactly 1.0000 token1 to price 0.50000 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "830919884399388263",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "-585786437626904951",
  "executionPrice": "0.70499",
  "feeGrowthGlobal0X128Delta": "424121077477644648929101317621422688",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.50000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -6932,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap token0 for token1 to price 0.40000 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "1165774985123750584",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "-735088935932648267",
  "executionPrice": "0.63056",
  "feeGrowthGlobal0X128Delta": "595039006852697554786973994761078087",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "0.40000",
  "poolPriceBefore": "1.0000",
  "tickAfter": -9164,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap token0 for token1 to price 2.5000 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "1995041008271423675",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":157322,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x5c17d728005b7f84123f4a5943561d692f2fe92c\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x2ec20bf9000000000000000000000000d797e36ec34930c72c5225f8ae49485b2e16476d000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":157322,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x5c17d728005b7f84123f4A5943561D692F2fe92C\\",\\"data\\":\\"0x2ec20bf9000000000000000000000000d797e36ec34930c72c5225f8ae49485b2e16476d000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x2ec20bf9000000000000000000000000d797e36ec34930c72c5225f8ae49485b2e16476d000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap token1 for exactly 0.0000000000000010000 token0 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "0",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "3.4026e+38",
  "poolPriceBefore": "1.0000",
  "tickAfter": 887271,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap token1 for exactly 1.0000 token0 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "0",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "3.4026e+38",
  "poolPriceBefore": "1.0000",
  "tickAfter": 887271,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap token1 for exactly 1.0000 token0 to price 2.0000 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "0",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "2.0000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 6931,
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap token1 for token0 to price 0.40000 1`] = `
Object {
  "poolBalance0": "0",
  "poolBalance1": "1995041008271423675",
  "poolPriceBefore": "1.0000",
  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit (error={\\"reason\\":\\"cannot estimate gas; transaction may fail or may require manual gas limit\\",\\"code\\":\\"UNPREDICTABLE_GAS_LIMIT\\",\\"error\\":{\\"reason\\":\\"processing response error\\",\\"code\\":\\"SERVER_ERROR\\",\\"body\\":\\"{\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\",\\\\\\"id\\\\\\":157598,\\\\\\"error\\\\\\":{\\\\\\"code\\\\\\":-32000,\\\\\\"message\\\\\\":\\\\\\"gas required exceeds allowance (11000000)\\\\\\"}}\\\\n\\",\\"error\\":{\\"code\\":-32000},\\"requestBody\\":\\"{\\\\\\"method\\\\\\":\\\\\\"eth_estimateGas\\\\\\",\\\\\\"params\\\\\\":[{\\\\\\"gasPrice\\\\\\":\\\\\\"0x0\\\\\\",\\\\\\"from\\\\\\":\\\\\\"0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\\\\\\",\\\\\\"to\\\\\\":\\\\\\"0x1b8fb2222dc1381e1e30bfd3d3af40caa2330969\\\\\\",\\\\\\"data\\\\\\":\\\\\\"0x9e77b8050000000000000000000000004c78fb85514b41052ede1aadd885a82103671a0e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\\\\\"}],\\\\\\"id\\\\\\":157598,\\\\\\"jsonrpc\\\\\\":\\\\\\"2.0\\\\\\"}\\",\\"requestMethod\\":\\"POST\\",\\"url\\":\\"http://localhost:8545\\"},\\"method\\":\\"estimateGas\\",\\"transaction\\":{\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{\\"type\\":\\"BigNumber\\",\\"hex\\":\\"0x00\\"},\\"to\\":\\"0x1b8FB2222dc1381E1E30bFd3d3AF40Caa2330969\\",\\"data\\":\\"0x9e77b8050000000000000000000000004c78fb85514b41052ede1aadd885a82103671a0e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\"}}, tx={\\"data\\":\\"0x9e77b8050000000000000000000000004c78fb85514b41052ede1aadd885a82103671a0e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\\",\\"to\\":{},\\"from\\":\\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\\",\\"gasPrice\\":{},\\"nonce\\":{},\\"gasLimit\\":{},\\"chainId\\":{}}, code=UNPREDICTABLE_GAS_LIMIT, version=abstract-signer/5.0.9)",
  "tickBefore": 0,
}
`;

exports[`UniswapV3Pool swap tests medium fee, token1 liquidity only swap token1 for token0 to price 2.5000 1`] = `
Object {
  "amount0Before": "0",
  "amount0Delta": "0",
  "amount1Before": "1995041008271423675",
  "amount1Delta": "0",
  "executionPrice": "NaN",
  "feeGrowthGlobal0X128Delta": "0",
  "feeGrowthGlobal1X128Delta": "0",
  "poolPriceAfter": "2.5000",
  "poolPriceBefore": "1.0000",
  "tickAfter": 9163,
  "tickBefore": 0,
}
`;
